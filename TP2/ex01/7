#include<stdio.h>
#include<math.h>
#include<stdlib.h>


double f( double x)
{
     return exp(pow(-x, 2)/2);
}

double RectangleDroite(double(*f)(double), double a, double b, double n)
{
     double h=(b-a)/n;
     double s=0;
     double x=a;
             for(int i=0;i<n;i++)
             {
                   s+=f(x);
                   x+=h;
             }
     return (s*h);
}

double RectangleGauche(double(*f)(double), double a, double b, double n)
{
     double h=(b-a)/n;
     double s=0;
     double x=a+h;
             for(int i=0;i<n-1;i++)
             {
                   s+=f(x);
                   x+=h;
             }
     return (s*h);
}

double Trapeze(double(*f)(double), double a, double b, double n)
{
     double h=(b-a)/n;
     double k=0.5*(f(a)+f(b));
     double x=a+h;
     for(int i = 1; i < n;i++)
     {
        k=k+f(x);
        x+=h;
     }
     return h*k;
}

double Simpson(double(*f)(double), double a, double b , int  n)
{
    double h =(b-a)/n;
    double x=a+h;
    double k=a+h/2;
    double s1=0;
    double s2=f(k);
    for (int i = 1;i< n;i++)
    {
        k+=h;
        s1+=f(x);
        s2+=f(k);
        x+=h;
    }
    return (h/6)*(f(a)+f(b)+2*s1+4*s2);
        
}

double NombreNecessaire(double(*f)(double),double a,double b, double(*Methode)(double(*)(double), double, double, int), double Err)
{
       double I=0.855624391892149;
       double n=1;
       while(fabs(Methode(f, a, b, n)-I)>Err)
               n=n+1;
       return n;
}


int main()
{
int a,b;
double Err;
//printf("Donner les bornes de l integrale:\n");
//printf("a:\t");
//scanf("%d", &a);
//printf("\n");
//printf("b:\t");
//scanf("%d", &b);
//printf("\n");
//printf("Err:\n ");
//scanf("%lf", &Err);
//printf("\n");
a=0;
b=1;
Err=pow(10,-9);
printf("%lf", NombreNecessaire(f, a, b, Simpson, Err));
printf("\n");
return 0;
}

